# Requirements: v1.2 Booking, Notifications & Mobile

**Created:** 2026-01-21
**Status:** Active

## Overview

Three focus areas for v1.2:
1. **Booking System** — Complete the customer-facing booking experience
2. **Notification System** — Real notifications with proper navigation
3. **Mobile Experience** — Touch-optimized, mobile-first improvements

## Requirements

### Booking System

| ID | Requirement | Priority | Phase |
|----|-------------|----------|-------|
| BOOK-01 | Business service catalog (define bookable services with duration, price, description) | Must | 1 |
| BOOK-02 | Customer-facing booking page per business (/business/[id]/book) | Must | 1 |
| BOOK-03 | Visual availability calendar with slot picker | Must | 1 |
| BOOK-04 | Booking confirmation flow with summary and payment info | Must | 1 |
| BOOK-05 | Automated email reminders (24h and 1h before appointment) | Should | 2 |
| BOOK-06 | Business availability management UI (set hours, exceptions) | Must | 2 |
| BOOK-07 | Reschedule booking flow (customer and business initiated) | Should | 2 |
| BOOK-08 | Group/class booking support with capacity limits | Could | 3 |
| BOOK-09 | Calendar sync (Google Calendar export/import) | Could | 3 |

### Notification System

| ID | Requirement | Priority | Phase |
|----|-------------|----------|-------|
| NOTIF-01 | Remove all mock/seed notification data | Must | 1 |
| NOTIF-02 | Create real notifications on booking events (request, confirm, cancel) | Must | 1 |
| NOTIF-03 | Create real notifications on review events (new review, response) | Must | 1 |
| NOTIF-04 | Click notification navigates to correct page (booking detail, review, message) | Must | 1 |
| NOTIF-05 | Mark notification as read on click/view | Must | 1 |
| NOTIF-06 | Notification inbox page (/notifications) with filtering | Should | 2 |
| NOTIF-07 | Email delivery for critical notifications (Resend integration) | Should | 2 |
| NOTIF-08 | Unread notification count in header badge | Must | 1 |

### Mobile Experience

| ID | Requirement | Priority | Phase |
|----|-------------|----------|-------|
| MOB-01 | Mobile bottom navigation bar for key actions | Must | 3 |
| MOB-02 | Touch-friendly tap targets (44px minimum) | Must | 3 |
| MOB-03 | Map touch gestures (pinch-zoom, two-finger pan) | Should | 3 |
| MOB-04 | Swipe gestures for navigation (back, dismiss) | Could | 3 |
| MOB-05 | Mobile-optimized booking flow (single column, large buttons) | Must | 2 |
| MOB-06 | PWA manifest and service worker for installability | Could | 3 |

## Success Criteria

### Booking
- [ ] User can view a business's services and available time slots
- [ ] User can complete a booking without leaving the business page
- [ ] Business owner receives notification of new booking
- [ ] Business owner can manage availability from dashboard

### Notifications
- [ ] No mock data in notification system
- [ ] Clicking a notification takes user to relevant page
- [ ] Booking/review events create real notifications
- [ ] Unread count badge shows accurate count

### Mobile
- [ ] All touch targets are easily tappable on mobile
- [ ] Key navigation accessible via bottom bar on mobile
- [ ] Map is usable with touch gestures
- [ ] Booking flow works smoothly on mobile viewport

## Out of Scope

- Payment processing (Stripe/Square integration) — v1.3 candidate
- SMS notifications — cost/complexity, email sufficient for now
- Real-time push notifications — web push API complexity
- Video consultations — not core to directory functionality
- Multi-location booking — single location per business for now

## Dependencies

- Resend already configured for email
- Prisma models for Booking, Notification exist
- MapLibre GL JS already supports touch gestures (needs enabling)

---
*Last updated: 2026-01-21*
